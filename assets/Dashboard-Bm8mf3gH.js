import{c as l,i as s,d as t,e as M,t as o,F as D,l as I,_ as J,r as A,o as nt,A as jt,B as xt,j as u,n as G,g as Y,m as _t,p as T,q as wt,x as ot,y as Ht,z as Bt,u as Ut,I as Gt,T as yt,C as q,f as X,b as zt,v as at,k as lt,w as gt,h as Wt,a as qt}from"./index-Dpv-nFGf.js";import{u as Yt}from"./analyticsStore-BWzuE2VH.js";import"./demoStorage-LjyBGDXa.js";const Qt={class:"card"},Xt={class:"text-lg font-bold mb-4"},Jt={class:"overflow-x-auto"},Kt={class:"w-full"},Zt={class:"border-b border-gray-200"},te={key:0,class:"text-center py-8 text-gray-500"},ee={__name:"AnalyticsTable",props:{title:{type:String,default:"Analytics"},columns:{type:Array,required:!0},data:{type:Array,required:!0}},setup(c){const b=(y,m)=>{if(!m)return y;switch(m){case"currency":return`$${Number(y).toFixed(2)}`;case"number":return Number(y).toLocaleString();default:return y}};return(y,m)=>(s(),l("div",Qt,[t("h3",Xt,o(c.title),1),t("div",Jt,[t("table",Kt,[t("thead",null,[t("tr",Zt,[(s(!0),l(D,null,I(c.columns,g=>(s(),l("th",{key:g.key,class:"text-left py-3 px-4 font-semibold text-gray-700"},o(g.label),1))),128))])]),t("tbody",null,[(s(!0),l(D,null,I(c.data,(g,f)=>(s(),l("tr",{key:f,class:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},[(s(!0),l(D,null,I(c.columns,v=>(s(),l("td",{key:v.key,class:"py-3 px-4 text-gray-900"},o(b(g[v.key],v.format)),1))),128))]))),128))])])]),c.data.length===0?(s(),l("div",te," No data available ")):M("",!0)]))}},se={class:"card"},ae={class:"chart-title"},le={key:0,class:"chart-container"},oe=["width","viewBox"],ne=["x","y","width","height"],re=["y1","x2","y2"],ie=["x","y","width","height"],de=["x","y","width","height"],ce={key:0},ue=["x","y"],ve=["x","y"],pe={class:"peak-summary"},he={class:"peak-metrics"},be={class:"peak-metric"},ye={class:"peak-value"},ge={class:"peak-metric"},me={class:"peak-value"},fe={key:1,class:"chart-empty"},L=40,ke=300,mt=2,xe={__name:"PeakHoursChart",props:{title:{type:String,default:"Peak Hours Analysis"},data:{type:Array,default:()=>[]}},setup(c){const b=c,y=A(null),m=A(800),g=()=>{if(y.value){const _=y.value.clientWidth||y.value.offsetWidth;_&&_>0?m.value=Math.max(_-32,400):m.value=400}};nt(()=>{jt(()=>{g(),setTimeout(g,100)}),window.addEventListener("resize",g)}),xt(()=>{window.removeEventListener("resize",g)});const f=u(()=>ke-L*2),v=u(()=>m.value||400),n=u(()=>v.value-L*2),r=u(()=>!b.data||b.data.length===0?0:n.value>0?n.value/b.data.length:0),O=u(()=>!b.data||b.data.length===0?1:Math.max(...b.data.map(_=>_.orders||0),1)),B=u(()=>!b.data||b.data.length===0?1:Math.max(...b.data.map(_=>_.scans||0),1)),P=u(()=>!b.data||b.data.length===0?{hourLabel:"N/A",orders:0,scans:0}:b.data.reduce((_,C)=>{const k=(C.orders||0)+(C.scans||0),S=(_.orders||0)+(_.scans||0);return k>S?C:_},b.data[0]));return(_,C)=>(s(),l("div",se,[t("h3",ae,o(c.title),1),c.data&&c.data.length>0?(s(),l("div",le,[t("div",{class:"chart-wrapper",ref_key:"chartContainer",ref:y},[(s(),l("svg",{width:v.value,height:300,class:"chart-svg",viewBox:`0 0 ${v.value} 300`,preserveAspectRatio:"xMidYMid meet"},[C[0]||(C[0]=t("defs",null,[t("linearGradient",{id:"glassGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[t("stop",{offset:"0%",style:{"stop-color":"rgba(255,255,255,0.4)","stop-opacity":"1"}}),t("stop",{offset:"100%",style:{"stop-color":"rgba(255,255,255,0.1)","stop-opacity":"1"}})])],-1)),t("rect",{x:L-10,y:L-10,width:n.value+20,height:f.value+20,fill:"url(#glassGradient)",rx:"12",opacity:.3},null,8,ne),(s(),l(D,null,I(5,k=>t("g",{key:k},[t("line",{x1:L,y1:L+(k-1)*(f.value/4),x2:L+n.value,y2:L+(k-1)*(f.value/4),stroke:"#ECEAE5","stroke-width":"1",opacity:.5},null,8,re)])),64)),(s(!0),l(D,null,I(c.data,(k,S)=>(s(),l("g",{key:`order-${S}`},[t("rect",{x:L+S*r.value+mt,y:L+f.value-k.orders/O.value*f.value,width:r.value*.4,height:k.orders/O.value*f.value,fill:"#8A1222",opacity:.8,rx:"4",class:"bar-hover"},[t("title",null,o(k.hourLabel)+": "+o(k.orders)+" orders",1)],8,ie)]))),128)),(s(!0),l(D,null,I(c.data,(k,S)=>(s(),l("g",{key:`scan-${S}`},[t("rect",{x:L+S*r.value+mt+r.value*.4,y:L+f.value-k.scans/B.value*f.value,width:r.value*.4,height:k.scans/B.value*f.value,fill:"#E09F3E",opacity:.8,rx:"4",class:"bar-hover"},[t("title",null,o(k.hourLabel)+": "+o(k.scans)+" scans",1)],8,de)]))),128)),(s(!0),l(D,null,I(c.data,(k,S)=>(s(),l(D,{key:`label-${S}`},[S%2===0?(s(),l("g",ce,[t("text",{x:L+S*r.value+r.value/2,y:L+f.value+20,"text-anchor":"middle",class:"axis-label"},o(k.hourLabel),9,ue)])):M("",!0)],64))),128)),(s(),l(D,null,I(5,k=>t("g",{key:`y-label-${k}`},[t("text",{x:L-10,y:L+(k-1)*(f.value/4)+4,"text-anchor":"end",class:"axis-label"},o(Math.round(O.value*(1-(k-1)/4))),9,ve)])),64))],8,oe))],512),C[4]||(C[4]=G('<div class="chart-legend" data-v-e8758a2e><div class="legend-item" data-v-e8758a2e><div class="legend-color legend-orders" data-v-e8758a2e></div><span class="legend-text" data-v-e8758a2e>Orders</span></div><div class="legend-item" data-v-e8758a2e><div class="legend-color legend-scans" data-v-e8758a2e></div><span class="legend-text" data-v-e8758a2e>Scans</span></div></div>',1)),t("div",pe,[C[3]||(C[3]=t("h4",{class:"peak-title"},"ðŸ“Š Peak Hours",-1)),t("div",he,[t("div",be,[C[1]||(C[1]=t("span",{class:"peak-label"},"Busiest Hour:",-1)),t("span",ye,o(P.value.hourLabel),1)]),t("div",ge,[C[2]||(C[2]=t("span",{class:"peak-label"},"Total Activity:",-1)),t("span",me,o(P.value.orders+P.value.scans)+" events",1)])])])])):(s(),l("div",fe," No hourly data available "))]))}},ft=J(xe,[["__scopeId","data-v-e8758a2e"]]),_e={class:"card"},we={class:"chart-title"},$e={key:0,class:"chart-container"},Ce={class:"item-selector"},Se=["value"],Me=["width","viewBox"],Ae=["x","y","width","height"],Te=["y1","x2","y2"],De=["points"],Oe=["points"],Ee=["points"],Ie=["points"],Le=["cx","cy"],Fe=["cx","cy"],Ne=["x","y"],Ve=["x","y"],Re={class:"trend-summary"},Pe={class:"trend-metrics"},je={class:"trend-metric"},He={class:"trend-metric"},Be={class:"trend-value"},Ue={key:1,class:"chart-empty"},w=40,R=15,Ge={__name:"TrendChart",props:{title:{type:String,default:"Trend Visualization"},data:{type:Array,default:()=>[]}},setup(c){const b=c,y=A(""),m=A(null),g=A(800),f=()=>{if(m.value){const h=m.value.clientWidth;g.value=Math.max(h-32,400)}};nt(()=>{f(),window.addEventListener("resize",f)}),xt(()=>{window.removeEventListener("resize",f)});const v=u(()=>{if(!b.data||b.data.length===0)return[];const h=new Set;return b.data.forEach(p=>{var d;(d=p.items)==null||d.forEach(x=>{h.add(x.itemName)})}),Array.from(h)}),n=u(()=>!y.value||!b.data?b.data:b.data.map(h=>{var p;return{...h,items:((p=h.items)==null?void 0:p.filter(d=>d.itemName===y.value))||[]}})),r=300-w*2-R,O=u(()=>(g.value-w*2)/Math.max(n.value.length-1,1)),B=u(()=>{let h=0;return n.value.forEach(p=>{var d;(d=p.items)==null||d.forEach(x=>{h=Math.max(h,x.scans||0,x.clicks||0)})}),Math.max(h*1.1,1)}),P=u(()=>n.value.map((h,p)=>{var F;const d=(F=h.items)==null?void 0:F[0],x=(d==null?void 0:d.scans)||0;return{x:w+p*O.value+O.value/2,y:w+R+r-x/B.value*r,value:x,label:h.dateLabel}})),_=u(()=>n.value.map((h,p)=>{var F;const d=(F=h.items)==null?void 0:F[0],x=(d==null?void 0:d.clicks)||0;return{x:w+p*O.value+O.value/2,y:w+R+r-x/B.value*r,value:x,label:h.dateLabel}})),C=u(()=>P.value.map(h=>`${h.x},${h.y}`).join(" ")),k=u(()=>_.value.map(h=>`${h.x},${h.y}`).join(" ")),S=u(()=>{if(!n.value||n.value.length===0)return 0;const h=n.value.reduce((p,d)=>{var F;const x=(F=d.items)==null?void 0:F[0];return p+((x==null?void 0:x.scans)||0)},0);return Math.round(h/n.value.length)}),H=u(()=>{var d,x,F,Q;if(!n.value||n.value.length<2)return 0;const h=((x=(d=n.value[0].items)==null?void 0:d[0])==null?void 0:x.scans)||0,p=((Q=(F=n.value[n.value.length-1].items)==null?void 0:F[0])==null?void 0:Q.scans)||0;return h===0?p>0?100:0:(p-h)/h*100});return v.value.length>0&&!y.value&&(y.value=v.value[0]),(h,p)=>(s(),l("div",_e,[t("h3",we,o(c.title),1),c.data&&c.data.length>0?(s(),l("div",$e,[t("div",Ce,[p[1]||(p[1]=t("label",{class:"selector-label"},"Item:",-1)),Y(t("select",{"onUpdate:modelValue":p[0]||(p[0]=d=>y.value=d),class:"selector-dropdown"},[(s(!0),l(D,null,I(v.value,d=>(s(),l("option",{key:d,value:d},o(d),9,Se))),128))],512),[[_t,y.value]])]),t("div",{class:"chart-wrapper",ref_key:"chartContainer",ref:m},[(s(),l("svg",{width:g.value.value,height:300,class:"chart-svg",viewBox:`0 0 ${g.value.value} 300`,preserveAspectRatio:"xMidYMid meet"},[p[2]||(p[2]=G('<defs data-v-bb2b270f><linearGradient id="trendGlassGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-bb2b270f><stop offset="0%" style="stop-color:rgba(255,255,255,0.4);stop-opacity:1;" data-v-bb2b270f></stop><stop offset="100%" style="stop-color:rgba(255,255,255,0.1);stop-opacity:1;" data-v-bb2b270f></stop></linearGradient><linearGradient id="scanGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-bb2b270f><stop offset="0%" style="stop-color:#8A1222;stop-opacity:0.8;" data-v-bb2b270f></stop><stop offset="100%" style="stop-color:#8A1222;stop-opacity:0.4;" data-v-bb2b270f></stop></linearGradient><linearGradient id="clickGradient" x1="0%" y1="0%" x2="0%" y2="100%" data-v-bb2b270f><stop offset="0%" style="stop-color:#E09F3E;stop-opacity:0.8;" data-v-bb2b270f></stop><stop offset="100%" style="stop-color:#E09F3E;stop-opacity:0.4;" data-v-bb2b270f></stop></linearGradient></defs>',1)),t("rect",{x:w-10,y:w+R-10,width:g.value.value-w*2+20,height:r+20,fill:"url(#trendGlassGradient)",rx:"12",opacity:.3},null,8,Ae),(s(),l(D,null,I(5,d=>t("g",{key:d},[t("line",{x1:w,y1:w+R+(d-1)*(r/4),x2:g.value.value-w,y2:w+R+(d-1)*(r/4),stroke:"#ECEAE5","stroke-width":"1",opacity:.5},null,8,Te)])),64)),t("polygon",{points:`${w},${w+R+r} ${C.value} ${g.value.value-w},${w+R+r}`,fill:"url(#scanGradient)",opacity:.15},null,8,De),t("polygon",{points:`${w},${w+R+r} ${k.value} ${g.value.value-w},${w+R+r}`,fill:"url(#clickGradient)",opacity:.15},null,8,Oe),t("polyline",{points:C.value,fill:"none",stroke:"#8A1222","stroke-width":"3",class:"line-hover"},null,8,Ee),t("polyline",{points:k.value,fill:"none",stroke:"#E09F3E","stroke-width":"3",class:"line-hover"},null,8,Ie),(s(!0),l(D,null,I(P.value,(d,x)=>(s(),l("g",{key:`scan-point-${x}`},[t("circle",{cx:d.x,cy:d.y,r:"5",fill:"#8A1222",stroke:"#FFFFFF","stroke-width":"2",class:"point-hover"},[t("title",null,o(d.label)+": "+o(d.value)+" scans",1)],8,Le)]))),128)),(s(!0),l(D,null,I(_.value,(d,x)=>(s(),l("g",{key:`click-point-${x}`},[t("circle",{cx:d.x,cy:d.y,r:"5",fill:"#E09F3E",stroke:"#FFFFFF","stroke-width":"2",class:"point-hover"},[t("title",null,o(d.label)+": "+o(d.value)+" clicks",1)],8,Fe)]))),128)),(s(!0),l(D,null,I(n.value,(d,x)=>(s(),l("g",{key:`label-${x}`},[t("text",{x:w+x*O.value.value+O.value.value/2,y:w+R+r+20,"text-anchor":"middle",class:"axis-label"},o(d.dateLabel),9,Ne)]))),128)),(s(),l(D,null,I(5,d=>t("g",{key:`y-label-${d}`},[t("text",{x:w-10,y:w+R+(d-1)*(r/4)+4,"text-anchor":"end",class:"axis-label"},o(Math.round(B.value/1.1*(1-(d-1)/4))),9,Ve)])),64))],8,Me))],512),p[6]||(p[6]=G('<div class="chart-legend" data-v-bb2b270f><div class="legend-item" data-v-bb2b270f><div class="legend-color legend-scans-line" data-v-bb2b270f></div><span class="legend-text" data-v-bb2b270f>Scans</span></div><div class="legend-item" data-v-bb2b270f><div class="legend-color legend-clicks-line" data-v-bb2b270f></div><span class="legend-text" data-v-bb2b270f>Clicks</span></div></div>',1)),t("div",Re,[p[5]||(p[5]=t("h4",{class:"trend-title"},"ðŸ“ˆ Trend Analysis",-1)),t("div",Pe,[t("div",je,[p[3]||(p[3]=t("span",{class:"trend-label"},"7-Day Change:",-1)),t("span",{class:T(["trend-value",H.value>=0?"trend-positive":"trend-negative"])},o(H.value>=0?"+":"")+o(H.value.toFixed(1))+"% ",3)]),t("div",He,[p[4]||(p[4]=t("span",{class:"trend-label"},"Average Daily:",-1)),t("span",Be,o(S.value)+" scans",1)])])])])):(s(),l("div",Ue," No trend data available "))]))}},kt=J(Ge,[["__scopeId","data-v-bb2b270f"]]),ze={class:"card"},We={class:"text-lg font-bold mb-4"},qe={key:0,class:"space-y-4"},Ye={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Qe={class:"flex items-center justify-between mb-3"},Xe={class:"font-bold text-gray-900 capitalize"},Je={class:"text-2xl"},Ke={class:"space-y-2 text-sm"},Ze={class:"flex justify-between"},ts={class:"font-semibold text-gray-900"},es={class:"flex justify-between"},ss={class:"font-semibold text-blue-600"},as={class:"flex justify-between"},ls={class:"font-semibold text-green-600"},os={class:"flex justify-between border-t border-gray-300 pt-2 mt-2"},ns={class:"font-bold text-purple-600"},rs={class:"mt-3 pt-3 border-t border-gray-300"},is={class:"flex items-center justify-between"},ds={class:"mt-1 h-2 bg-gray-200 rounded-full overflow-hidden"},cs={class:"mt-6 overflow-x-auto"},us={class:"w-full"},vs={class:"py-3 px-4 font-medium text-gray-900 capitalize"},ps={class:"py-3 px-4 text-right text-gray-700"},hs={class:"py-3 px-4 text-right text-blue-600 font-medium"},bs={class:"py-3 px-4 text-right text-green-600 font-medium"},ys={class:"py-3 px-4 text-right text-purple-600 font-semibold"},gs={class:"py-3 px-4 text-right"},ms={key:1,class:"text-center py-8 text-gray-500"},fs={__name:"CategoryAnalytics",props:{title:{type:String,default:"Category Analytics"},data:{type:Array,default:()=>[]}},setup(c){const b=c,y=v=>({breakfast:"ðŸ³",mains:"ðŸ½ï¸",drinks:"â˜•",salads:"ðŸ¥—",desserts:"ðŸ°"})[v]||"ðŸ“¦",m=v=>v.totalScans===0?0:(v.totalOrders/v.totalScans*100).toFixed(1),g=v=>{const n=parseFloat(m(v));return n>=20?"text-green-600":n>=10?"text-yellow-600":"text-red-600"},f=u(()=>[...b.data].sort((v,n)=>n.totalOrders-v.totalOrders));return(v,n)=>(s(),l("div",ze,[t("h3",We,o(c.title),1),c.data&&c.data.length>0?(s(),l("div",qe,[t("div",Ye,[(s(!0),l(D,null,I(c.data,(r,O)=>(s(),l("div",{key:O,class:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-200 hover:shadow-md transition-shadow"},[t("div",Qe,[t("h4",Xe,o(r.category),1),t("span",Je,o(y(r.category)),1)]),t("div",Ke,[t("div",Ze,[n[0]||(n[0]=t("span",{class:"text-gray-600"},"Scans:",-1)),t("span",ts,o(r.totalScans.toLocaleString()),1)]),t("div",es,[n[1]||(n[1]=t("span",{class:"text-gray-600"},"Clicks:",-1)),t("span",ss,o(r.totalClicks.toLocaleString()),1)]),t("div",as,[n[2]||(n[2]=t("span",{class:"text-gray-600"},"Orders:",-1)),t("span",ls,o(r.totalOrders.toLocaleString()),1)]),t("div",os,[n[3]||(n[3]=t("span",{class:"text-gray-600"},"Avg Value:",-1)),t("span",ns,"$"+o(r.avgOrderValue.toFixed(2)),1)])]),t("div",rs,[t("div",is,[n[4]||(n[4]=t("span",{class:"text-xs text-gray-500"},"Conversion Rate:",-1)),t("span",{class:T(["text-xs font-semibold",g(r)])},o(m(r))+"% ",3)]),t("div",ds,[t("div",{class:T(["h-full transition-all",g(r).replace("text-","bg-").replace("-600","-500")]),style:wt({width:`${m(r)}%`})},null,6)])])]))),128))]),t("div",cs,[t("table",us,[n[5]||(n[5]=t("thead",null,[t("tr",{class:"border-b border-gray-200"},[t("th",{class:"text-left py-3 px-4 font-semibold text-gray-700"},"Category"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700"},"Scans"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700"},"Clicks"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700"},"Orders"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700"},"Avg Value"),t("th",{class:"text-right py-3 px-4 font-semibold text-gray-700"},"Conversion")])],-1)),t("tbody",null,[(s(!0),l(D,null,I(f.value,(r,O)=>(s(),l("tr",{key:O,class:"border-b border-gray-100 hover:bg-gray-50 transition-colors"},[t("td",vs,o(r.category),1),t("td",ps,o(r.totalScans.toLocaleString()),1),t("td",hs,o(r.totalClicks.toLocaleString()),1),t("td",bs,o(r.totalOrders.toLocaleString()),1),t("td",ys,"$"+o(r.avgOrderValue.toFixed(2)),1),t("td",gs,[t("span",{class:T([g(r),"font-semibold"])},o(m(r))+"% ",3)])]))),128))])])])])):(s(),l("div",ms," No category data available "))]))}},ks={class:"card"},xs={class:"text-lg font-bold flex items-center gap-2"},_s={class:"text-gray-400 text-sm flex items-center gap-1"},ws={key:1},$s={class:"flex items-center justify-between mb-4"},Cs={class:"text-lg font-bold"},Ss={key:0,class:"flex flex-wrap gap-2"},Ms={class:"text-lg"},As={key:1,class:"text-center py-8 text-gray-500"},Ts={__name:"InsightsPanel",props:{title:{type:String,default:"Insights & Recommendations"},insights:{type:Array,default:()=>[]}},setup(c){const b=A(!1),y=v=>({high_demand:"ðŸ“ˆ",trending_item:"ðŸ”¥",low_performance:"âš ï¸",prep_time:"â±ï¸",recommendation:"ðŸ’¡"})[v]||"ðŸ“Š",m=v=>{const n="bg-opacity-10";return v.priority==="high"?`bg-red-500 border-red-500 ${n}`:v.priority==="medium"?`bg-yellow-500 border-yellow-500 ${n}`:`bg-blue-500 border-blue-500 ${n}`},g=v=>v.priority==="high"?"text-red-900":v.priority==="medium"?"text-yellow-900":"text-blue-900",f=v=>v==="high"?"bg-red-100 text-red-800":v==="medium"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800";return(v,n)=>(s(),l("div",ks,[b.value?(s(),l("div",ws,[t("div",$s,[t("h3",Cs,o(c.title),1),t("button",{onClick:n[1]||(n[1]=r=>b.value=!1),class:"text-sm text-gray-600 hover:text-gray-900 flex items-center gap-1 transition-colors"},[...n[3]||(n[3]=[t("span",null,"Collapse",-1),t("span",{class:"text-xs"},"â–²",-1)])])]),c.insights&&c.insights.length>0?(s(),l("div",Ss,[(s(!0),l(D,null,I(c.insights,(r,O)=>(s(),l("div",{key:O,class:T(["flex items-center gap-2 px-3 py-2 rounded-lg border-l-4 transition-all hover:shadow-md hover:scale-105",m(r)])},[t("span",Ms,o(y(r.type)),1),t("span",{class:T(["font-semibold text-sm whitespace-nowrap",g(r)])},o(r.title),3),t("span",{class:T(["px-2 py-0.5 rounded-full text-xs font-semibold whitespace-nowrap",f(r.priority)])},o(r.priority),3)],2))),128))])):(s(),l("div",As," No insights available "))])):(s(),l("div",{key:0,onClick:n[0]||(n[0]=r=>b.value=!0),class:"flex items-center justify-between cursor-pointer hover:bg-gray-50 -m-4 p-4 rounded-lg transition-colors"},[t("h3",xs,[t("span",null,o(c.title.split(" ")[0]==="ðŸ’¡"?"ðŸ’¡":""),1),t("span",null,o(c.title.replace("ðŸ’¡ ","")),1)]),t("span",_s,[t("span",null,o(c.insights&&c.insights.length>0?`${c.insights.length} insights`:""),1),n[2]||(n[2]=t("span",{class:"text-xs"},"â–¼",-1))])]))]))}},Ds={class:"toast-content"},Os={class:"toast-icon"},Es={class:"toast-text"},Is={class:"toast-title"},Ls={class:"toast-message"},Fs={__name:"ToastNotification",props:{notification:{type:Object,default:null}},emits:["close"],setup(c){const b=m=>({new_order:"ðŸ›’",order_update:"ðŸ“‹",info:"â„¹ï¸",success:"âœ…",warning:"âš ï¸",error:"âŒ"})[m]||"ðŸ””",y=m=>({new_order:"toast-success",order_update:"toast-info",info:"toast-info",success:"toast-success",warning:"toast-warning",error:"toast-error"})[m]||"toast-default";return(m,g)=>(s(),ot(Bt,{name:"toast"},{default:Ht(()=>[c.notification?(s(),l("div",{key:0,class:T(["toast-notification",y(c.notification.type)])},[t("div",Ds,[t("span",Os,o(b(c.notification.type)),1),t("div",Es,[t("p",Is,o(c.notification.title),1),t("p",Ls,o(c.notification.message),1)]),t("button",{onClick:g[0]||(g[0]=f=>m.$emit("close")),class:"toast-close-button",title:"Close notification","aria-label":"Close notification"}," âœ• ")])],2)):M("",!0)]),_:1}))}},Ns=J(Fs,[["__scopeId","data-v-7d09abea"]]),Vs={class:"dashboard-page"},Rs={class:"header-bar"},Ps={class:"header-content"},js={class:"header-top"},Hs={class:"header-left"},Bs={key:0,class:"merchant-name"},Us={class:"nav-tabs"},Gs={class:"dashboard-content"},zs={key:0,class:"test-banner"},Ws={key:1,class:"empty-state"},qs={key:2,class:"error-card"},Ys={class:"error-message"},Qs={key:3},Xs={class:"stats-grid"},Js={class:"stat-card"},Ks={class:"stat-content"},Zs={class:"stat-value"},ta={class:"stat-card"},ea={class:"stat-content"},sa={class:"stat-value"},aa={class:"stat-card"},la={class:"stat-content"},oa={class:"stat-value"},na={class:"stat-card stat-card-progress"},ra={class:"stat-content"},ia={class:"stat-value"},da={class:"progress-bar"},ca={class:"section analytics-section"},ua={class:"section-header"},va={class:"actions-bar"},pa=["title"],ha={key:0,class:"insights-text"},ba={key:0,class:"analytics-item insights-expanded"},ya={class:"side-by-side-item top-items-container"},ga={class:"section-card"},ma={class:"section-header"},fa={class:"top-item-header"},ka={class:"top-item-name-title"},xa={class:"top-item-rank-badge"},_a={class:"top-item-stats-circle"},wa={class:"top-stats-content"},$a={class:"top-stats-value"},Ca={class:"top-item-stats-details"},Sa={class:"top-stat-row"},Ma={class:"top-stat-value"},Aa={class:"top-stat-row"},Ta={class:"top-stat-value"},Da={key:0,class:"empty-state-text"},Oa={class:"section-card chart-card-compact"},Ea={class:"chart-header-compact"},Ia={class:"chart-container-compact"},La={class:"section-card chart-card-compact"},Fa={class:"chart-header-compact"},Na={class:"chart-container-compact"},Va={key:1,class:"side-by-side-item category-container"},Ra={class:"section-card"},Pa={class:"section-header"},ja={key:0,class:"category-overview"},Ha={class:"analytics-summary"},Ba={class:"summary-item"},Ua={class:"summary-value"},Ga={class:"summary-item"},za={class:"summary-value"},Wa={class:"category-preview"},qa={class:"category-preview-header"},Ya={class:"category-preview-name"},Qa={class:"category-preview-rank"},Xa={class:"category-preview-stats"},Ja={class:"category-preview-stat"},Ka={class:"preview-stat-value"},Za={class:"category-preview-stat"},tl={class:"preview-stat-value"},el={key:1,class:"category-expanded"},sl={key:1,class:"section"},al={class:"section-card"},ll={class:"date-range-grid"},ol={class:"section-card section-card-subtle"},nl={class:"info-list"},rl={class:"section-card section-card-info"},il={class:"url-display"},dl={class:"modal-content"},cl={class:"modal-form"},ul={class:"checkbox-group"},vl={class:"modal-actions"},pl=["disabled"],hl={class:"fullscreen-modal-content"},bl={class:"fullscreen-header"},yl={class:"fullscreen-title"},gl={class:"fullscreen-chart"},ml={__name:"Dashboard",setup(c){const b=zt();qt();const y=Yt(),m=Ut(),g=yt,f=A(""),v=A(""),n=A(!1),r=A(""),O=A("weekly"),B=A(!1),P=A(!1),_=A(""),C=A(""),k=A(null),S=A(!1),H=A(!1),h=A(!1),p=A(null),d=u(()=>y.loading),x=u(()=>y.error),F=u(()=>{var a,e;return((a=m.user)==null?void 0:a.restaurantName)||((e=m.user)==null?void 0:e.name)}),Q=u(()=>{var a;return m.merchantId||((a=m.user)==null?void 0:a.merchantId)}),U=u(()=>y.topItems),$t=u(()=>y.totalScans),K=u(()=>y.totalOrders),Ct=u(()=>y.avgOrderValue),St=u(()=>{var a;return((a=y.dashboardData)==null?void 0:a.avgOrderPrepTime)||0}),j=u(()=>{var a;return((a=y.dashboardData)==null?void 0:a.peakHours)||[]}),N=u(()=>{var a;return((a=y.dashboardData)==null?void 0:a.trendData)||[]}),V=u(()=>{var a;return((a=y.dashboardData)==null?void 0:a.categoryAnalytics)||[]}),W=u(()=>{var a;return((a=y.dashboardData)==null?void 0:a.insights)||[]}),Mt=[{key:"itemName",label:"Item Name"},{key:"scans",label:"Scans",format:"number"},{key:"clicks",label:"Clicks",format:"number"}],At=u(()=>0),Tt=u(()=>0),Dt=u(()=>0),rt=u(()=>K.value||0),Z=u(()=>K.value||0),Ot=u(()=>Z.value===0?0:Math.round(rt.value/Z.value*100));u(()=>{if(!j.value||j.value.length===0)return{hour:"N/A",total:0};const a=j.value.reduce((i,$)=>{const z=($.orders||0)+($.scans||0),E=(i.orders||0)+(i.scans||0);return z>E?$:i},j.value[0]),e=j.value.reduce((i,$)=>i+($.orders||0)+($.scans||0),0);return{hour:a.hourLabel||"N/A",total:e}}),u(()=>{var E,ct,ut,vt,pt,ht;if(!N.value||N.value.length<2)return{change:0,avgDaily:0};const a=((ut=(ct=(E=N.value[0])==null?void 0:E.items)==null?void 0:ct[0])==null?void 0:ut.scans)||0,e=((ht=(pt=(vt=N.value[N.value.length-1])==null?void 0:vt.items)==null?void 0:pt[0])==null?void 0:ht.scans)||0,i=a===0?e>0?100:0:(e-a)/a*100,$=N.value.reduce((Rt,Pt)=>{var bt;const st=(bt=Pt.items)==null?void 0:bt[0];return Rt+((st==null?void 0:st.scans)||0)},0),z=Math.round($/N.value.length);return{change:i,avgDaily:z}});const it=u(()=>!V.value||V.value.length===0?{topCategory:"N/A",total:0}:{topCategory:V.value.reduce((e,i)=>{const $=(i.totalScans||0)+(i.totalClicks||0),z=(e.totalScans||0)+(e.totalClicks||0);return $>z?i:e},V.value[0]).category||"N/A",total:V.value.length}),Et=a=>a===0?"top-stats-gold":a===1?"top-stats-silver":a===2?"top-stats-bronze":"top-stats-default",It=()=>{k.value=null};nt(()=>{const a=new Date,e=new Date(a);e.setDate(a.getDate()-30),v.value=a.toISOString().split("T")[0],f.value=e.toISOString().split("T")[0],tt()});const tt=async()=>{try{const a=Q.value;if(!a){console.error("No merchant ID available");return}await y.fetchDashboardData(a,{startDate:f.value,endDate:v.value})}catch(a){console.error("Failed to load dashboard:",a)}},Lt=async()=>{await m.logout(),b.push("/")},et=u(()=>{const a="/qr-menu/",e=a.endsWith("/")?a.slice(0,-1):a,i=yt?Gt.menuId:"menu-001";return`${window.location.origin}${e}/menu/${i}`}),Ft=async()=>{try{await navigator.clipboard.writeText(et.value),alert("âœ… Menu URL copied to clipboard!")}catch(a){console.error("Failed to copy URL:",a),alert("Failed to copy URL. Please copy manually.")}},dt=async()=>{try{window.open(et.value,"_blank")}catch(a){console.error("Error viewing customer menu:",a),alert("Failed to open menu. Please try again.")}},Nt=()=>{try{const a=[];a.push(["Item Name","Scans","Clicks","Category"].join(",")),U.value.forEach(E=>{a.push([`"${E.itemName||""}"`,E.scans||0,E.clicks||0,`"${E.category||"N/A"}"`].join(","))}),a.push([]),a.push(["Summary Statistics"].join(",")),a.push(["Metric","Value"].join(",")),a.push(["Total Scans",$t.value].join(",")),a.push(["Total Orders",K.value].join(",")),a.push(["Avg Order Value",`$${Ct.value.toFixed(2)}`].join(",")),a.push(["Avg Prep Time",`${St.value.toFixed(1)} minutes`].join(",")),j.value.length>0&&(a.push([]),a.push(["Peak Hours Analysis"].join(",")),a.push(["Hour","Orders","Scans"].join(",")),j.value.forEach(E=>{a.push([E.hourLabel,E.orders,E.scans].join(","))})),V.value.length>0&&(a.push([]),a.push(["Category Analytics"].join(",")),a.push(["Category","Scans","Clicks","Orders","Avg Value"].join(",")),V.value.forEach(E=>{a.push([`"${E.category}"`,E.totalScans,E.totalClicks,E.totalOrders,`$${E.avgOrderValue.toFixed(2)}`].join(","))}));const e=a.join(`
`),i=new Blob([e],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a"),z=URL.createObjectURL(i);$.setAttribute("href",z),$.setAttribute("download",`analytics-report-${new Date().toISOString().split("T")[0]}.csv`),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($),alert("âœ… CSV report downloaded successfully!")}catch(a){console.error("Failed to export CSV:",a),alert("Failed to export CSV. Please try again.")}},Vt=async()=>{if(!r.value){_.value="Please enter an email address",C.value="error";return}P.value=!0,_.value="";try{await new Promise(a=>setTimeout(a,1500)),g?(_.value=`âœ… Report will be sent to ${r.value} (Test Mode - Email not actually sent)`,C.value="success",setTimeout(()=>{n.value=!1,r.value="",_.value=""},3e3)):(_.value=`âœ… Report sent successfully to ${r.value}`,C.value="success",setTimeout(()=>{n.value=!1,r.value="",_.value=""},3e3))}catch(a){console.error("Failed to send email report:",a),_.value="Failed to send email report. Please try again.",C.value="error"}finally{P.value=!1}};return(a,e)=>(s(),l("div",Vs,[t("div",Rs,[t("div",Ps,[t("div",js,[t("div",Hs,[e[21]||(e[21]=t("h1",{class:"page-title"},"Merchant Dashboard",-1)),F.value?(s(),l("span",Bs,o(F.value),1)):M("",!0)]),t("button",{onClick:Lt,class:"btn-link"}," Logout ")]),t("div",Us,[t("button",{onClick:e[0]||(e[0]=i=>X(b).push("/dashboard")),class:T(["nav-tab",{"nav-tab-active":a.$route.path==="/dashboard"}])}," Analytics ",2),t("button",{onClick:e[1]||(e[1]=i=>X(b).push("/menu-management")),class:T(["nav-tab",{"nav-tab-active":a.$route.path==="/menu-management"}])}," Menu ",2),t("button",{onClick:e[2]||(e[2]=i=>X(b).push("/qr")),class:T(["nav-tab",{"nav-tab-active":a.$route.path==="/qr"}])}," QR Codes ",2),t("button",{onClick:e[3]||(e[3]=i=>X(b).push("/orders")),class:T(["nav-tab",{"nav-tab-active":a.$route.path==="/orders"}])}," Orders ",2),t("button",{onClick:dt,class:"nav-tab"}," View Menu ")])])]),t("div",Gs,[X(g)?(s(),l("div",zs,[...e[22]||(e[22]=[t("p",null," Test Mode - Displaying Sample Analytics Data ",-1)])])):M("",!0),d.value?(s(),l("div",Ws,[...e[23]||(e[23]=[G('<div class="empty-icon" data-v-002bbb4b><svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-002bbb4b><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></circle><path d="M12 6v6l4 2" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path></svg></div><p class="empty-text" data-v-002bbb4b>Loading analytics...</p>',2)])])):x.value?(s(),l("div",qs,[e[24]||(e[24]=G('<div class="error-icon" data-v-002bbb4b><svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-002bbb4b><path d="M12 8v4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M12 16h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round" data-v-002bbb4b></path><path d="M12 2L2 22h20L12 2z" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></path></svg></div><h3 class="error-title" data-v-002bbb4b>Failed to Load Analytics</h3>',2)),t("p",Ys,o(x.value),1),t("button",{onClick:tt,class:"btn-primary"}," Try Again ")])):(s(),l("div",Qs,[e[55]||(e[55]=t("div",{class:"page-header-section"},[t("h2",{class:"page-section-title"},"Order Management")],-1)),t("div",Xs,[t("div",Js,[t("div",Ks,[t("div",null,[t("p",Zs,o(At.value),1),e[25]||(e[25]=t("p",{class:"stat-label"},"Total Pending Orders",-1))]),e[26]||(e[26]=t("div",{class:"stat-icon"},[t("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"1.5",fill:"none"}),t("path",{d:"M12 6v6l4 2",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})])],-1))])]),t("div",ta,[t("div",ea,[t("div",null,[t("p",sa,o(Tt.value),1),e[27]||(e[27]=t("p",{class:"stat-label"},"Preparing Orders",-1))]),e[28]||(e[28]=G('<div class="stat-icon" data-v-002bbb4b><svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-002bbb4b><path d="M8 4h8l1 2H7l1-2z" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></path><path d="M9 6v12h6V6" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></path><path d="M7 12h10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M10 18v2h4v-2" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></path><circle cx="12" cy="9" r="1.5" fill="currentColor" data-v-002bbb4b></circle></svg></div>',1))])]),t("div",aa,[t("div",la,[t("div",null,[t("p",oa,o(Dt.value),1),e[29]||(e[29]=t("p",{class:"stat-label"},"Ready to serve",-1))]),e[30]||(e[30]=G('<div class="stat-icon" data-v-002bbb4b><svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-002bbb4b><path d="M3 17h18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M5 17h14v-6H5v6z" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></path><path d="M5 11h3v-4h8v4h3" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></path><circle cx="7" cy="17" r="2" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></circle><circle cx="17" cy="17" r="2" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></circle><path d="M9 11V7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path></svg></div>',1))])]),t("div",na,[t("div",ra,[t("div",null,[t("p",ia,o(rt.value)+"/"+o(Z.value),1),e[31]||(e[31]=t("p",{class:"stat-label"},"Today Order Complete",-1)),t("div",da,[t("div",{class:"progress-fill",style:wt({width:Ot.value+"%"})},null,4)]),e[32]||(e[32]=t("div",{class:"progress-labels"},[t("span",null,"33%"),t("span",null,"60%"),t("span",null,"100%")],-1))])])])]),t("div",ca,[t("div",ua,[e[34]||(e[34]=t("h3",{class:"section-title"},"Analytics",-1)),t("div",va,[W.value&&W.value.length>0?(s(),l("button",{key:0,onClick:e[4]||(e[4]=i=>h.value=!h.value),class:T(["btn-insights",{"btn-insights-active":h.value}]),title:h.value?"Hide Insights":"Show Insights"},[e[33]||(e[33]=G('<span class="insights-icon" data-v-002bbb4b><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-002bbb4b><path d="M12 3v3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M12 18v3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M15 12h3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M6 12h3" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M8 8l2.121 2.121" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M16 16l-2.121-2.121" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M16 8l-2.121 2.121" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><path d="M8 16l2.121-2.121" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" data-v-002bbb4b></path><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></circle><path d="M12 9a3 3 0 0 1 3 3" stroke="currentColor" stroke-width="1.5" fill="none" data-v-002bbb4b></path></svg></span>',1)),h.value?(s(),l("span",ha,o(W.value.length)+" insights",1)):M("",!0)],10,pa)):M("",!0),t("button",{onClick:Nt,class:"btn-secondary"}," Export CSV "),t("button",{onClick:e[5]||(e[5]=i=>n.value=!0),class:"btn-secondary"}," Email Report ")])]),W.value&&W.value.length>0&&h.value?(s(),l("div",ba,[q(Ts,{title:"Insights & Recommendations",insights:W.value},null,8,["insights"])])):M("",!0)]),t("div",{class:T(["section side-by-side-section",{"expanded-top-items":S.value}])},[t("div",ya,[t("div",ga,[t("div",ma,[e[35]||(e[35]=t("h3",{class:"section-title"},"Top Performing Items",-1)),!S.value&&U.value.length>2?(s(),l("button",{key:0,onClick:e[6]||(e[6]=i=>S.value=!0),class:"btn-see-more btn-see-more-small"}," See More ")):S.value?(s(),l("button",{key:1,onClick:e[7]||(e[7]=i=>S.value=!1),class:"btn-collapse btn-collapse-small"}," Show Less ")):M("",!0)]),t("div",{class:T(["top-items-grid-compact",{"expanded-grid":S.value}])},[(s(!0),l(D,null,I(S.value?U.value.slice(0,10):U.value.slice(0,2),(i,$)=>(s(),l("div",{key:$,class:"top-item-card"},[t("div",fa,[t("div",ka,o(i.itemName),1),t("span",xa,"#"+o($+1),1)]),t("div",_a,[t("div",{class:T(["top-stats-circle",Et($)])},[t("div",wa,[t("div",$a,o((i.scans||0)+(i.clicks||0)),1),e[36]||(e[36]=t("div",{class:"top-stats-label"},"Total Views",-1))])],2)]),t("div",Ca,[t("div",Sa,[e[37]||(e[37]=t("span",{class:"top-stat-label"},"Scans",-1)),t("span",Ma,o(i.scans||0),1)]),t("div",Aa,[e[38]||(e[38]=t("span",{class:"top-stat-label"},"Clicks",-1)),t("span",Ta,o(i.clicks||0),1)])])]))),128))],2),U.value.length===0?(s(),l("div",Da," No items to display ")):M("",!0)])]),j.value&&j.value.length>0?(s(),l("div",{key:0,class:T(["side-by-side-item chart-container-side",{"hidden-when-expanded":S.value}])},[t("div",Oa,[t("div",Ea,[e[39]||(e[39]=t("h3",{class:"section-title"},"Peak Hours Analysis",-1)),t("button",{onClick:e[8]||(e[8]=i=>p.value="peakHours"),class:"btn-fullscreen",title:"Fullscreen"}," â›¶ ")]),t("div",Ia,[q(ft,{title:"",data:j.value},null,8,["data"])])])],2)):M("",!0)],2),N.value&&N.value.length>0||V.value&&V.value.length>0?(s(),l("div",{key:0,class:T(["section side-by-side-section",{"expanded-category":H.value}])},[N.value&&N.value.length>0?(s(),l("div",{key:0,class:T(["side-by-side-item chart-container-side",{"hidden-when-expanded":H.value}])},[t("div",La,[t("div",Fa,[e[40]||(e[40]=t("h3",{class:"section-title"},"Item Popularity Trends",-1)),t("button",{onClick:e[9]||(e[9]=i=>p.value="trend"),class:"btn-fullscreen",title:"Fullscreen"}," â›¶ ")]),t("div",Na,[q(kt,{title:"",data:N.value},null,8,["data"])])])],2)):M("",!0),V.value&&V.value.length>0?(s(),l("div",Va,[t("div",Ra,[t("div",Pa,[e[41]||(e[41]=t("h3",{class:"section-title"},"Category-Level Analytics",-1)),H.value?(s(),l("button",{key:1,onClick:e[11]||(e[11]=i=>H.value=!1),class:"btn-collapse btn-collapse-small"}," Show Less ")):(s(),l("button",{key:0,onClick:e[10]||(e[10]=i=>H.value=!0),class:"btn-see-more btn-see-more-small"}," See More "))]),H.value?(s(),l("div",el,[q(fs,{title:"Category-Level Analytics",data:V.value},null,8,["data"])])):(s(),l("div",ja,[t("div",Ha,[t("div",Ba,[e[42]||(e[42]=t("span",{class:"summary-label"},"Top Category:",-1)),t("span",Ua,o(it.value.topCategory),1)]),t("div",Ga,[e[43]||(e[43]=t("span",{class:"summary-label"},"Total Categories:",-1)),t("span",za,o(it.value.total),1)])]),t("div",Wa,[(s(!0),l(D,null,I(V.value.slice(0,3),(i,$)=>(s(),l("div",{key:$,class:"category-preview-item"},[t("div",qa,[t("span",Ya,o(i.category||"N/A"),1),t("span",Qa,"#"+o($+1),1)]),t("div",Xa,[t("div",Ja,[t("span",Ka,o((i.totalScans||0)+(i.totalClicks||0)),1),e[44]||(e[44]=t("span",{class:"preview-stat-label"},"Views",-1))]),t("div",Za,[t("span",tl,o(i.totalOrders||0),1),e[45]||(e[45]=t("span",{class:"preview-stat-label"},"Orders",-1))])])]))),128))])]))])])):M("",!0)],2)):M("",!0),U.value.length>0?(s(),l("div",sl,[q(ee,{title:"Detailed Analytics",columns:Mt,data:U.value},null,8,["data"])])):M("",!0),t("div",al,[e[48]||(e[48]=t("h3",{class:"section-title"},"Date Range",-1)),t("div",ll,[t("div",null,[e[46]||(e[46]=t("label",{class:"input-label"}," Start Date ",-1)),Y(t("input",{"onUpdate:modelValue":e[12]||(e[12]=i=>f.value=i),type:"date",class:"input-field"},null,512),[[at,f.value]])]),t("div",null,[e[47]||(e[47]=t("label",{class:"input-label"}," End Date ",-1)),Y(t("input",{"onUpdate:modelValue":e[13]||(e[13]=i=>v.value=i),type:"date",class:"input-field"},null,512),[[at,v.value]])])]),t("button",{onClick:tt,class:"btn-primary btn-full"}," Apply Date Range ")]),t("div",ol,[e[52]||(e[52]=t("h3",{class:"section-title"},"Merchant Information",-1)),t("div",nl,[t("p",null,[e[49]||(e[49]=t("strong",null,"Merchant ID:",-1)),lt(" "+o(Q.value||"N/A"),1)]),t("p",null,[e[50]||(e[50]=t("strong",null,"Business Name:",-1)),lt(" "+o(F.value||"N/A"),1)]),t("p",null,[e[51]||(e[51]=t("strong",null,"Menu Items:",-1)),lt(" "+o(U.value.length)+" tracked",1)])])]),t("div",rl,[e[53]||(e[53]=t("h3",{class:"section-title"},"Customer Menu URL",-1)),e[54]||(e[54]=t("p",{class:"info-text"},"Share this URL with your customers:",-1)),t("div",il,[t("code",null,o(et.value),1)]),t("div",{class:"url-actions"},[t("button",{onClick:Ft,class:"btn-secondary"}," Copy URL "),t("button",{onClick:dt,class:"btn-primary"}," Open Menu ")])])]))]),n.value?(s(),l("div",{key:0,class:"modal-overlay",onClick:e[18]||(e[18]=gt(i=>n.value=!1,["self"]))},[t("div",dl,[e[60]||(e[60]=t("h3",{class:"modal-title"},"Email Analytics Report",-1)),t("div",cl,[t("div",null,[e[56]||(e[56]=t("label",{class:"input-label"}," Email Address ",-1)),Y(t("input",{"onUpdate:modelValue":e[14]||(e[14]=i=>r.value=i),type:"email",placeholder:"your@email.com",class:"input-field"},null,512),[[at,r.value]])]),t("div",null,[e[58]||(e[58]=t("label",{class:"input-label"}," Report Type ",-1)),Y(t("select",{"onUpdate:modelValue":e[15]||(e[15]=i=>O.value=i),class:"select-field"},[...e[57]||(e[57]=[t("option",{value:"daily"},"Daily Summary",-1),t("option",{value:"weekly"},"Weekly Summary",-1),t("option",{value:"monthly"},"Monthly Summary",-1)])],512),[[_t,O.value]])]),t("div",ul,[Y(t("input",{type:"checkbox",id:"emailSchedule","onUpdate:modelValue":e[16]||(e[16]=i=>B.value=i),class:"checkbox-input"},null,512),[[Wt,B.value]]),e[59]||(e[59]=t("label",{for:"emailSchedule",class:"checkbox-label"}," Schedule recurring reports ",-1))])]),t("div",vl,[t("button",{onClick:Vt,class:"btn-primary",disabled:!r.value||P.value},o(P.value?"Sending...":"Send Report"),9,pl),t("button",{onClick:e[17]||(e[17]=i=>n.value=!1),class:"btn-secondary"}," Cancel ")]),_.value?(s(),l("div",{key:0,class:T(["modal-message",C.value==="success"?"modal-message-success":"modal-message-error"])},o(_.value),3)):M("",!0)])])):M("",!0),q(Ns,{notification:k.value,onClose:It},null,8,["notification"]),p.value?(s(),l("div",{key:1,class:"fullscreen-modal",onClick:e[20]||(e[20]=gt(i=>p.value=null,["self"]))},[t("div",hl,[t("div",bl,[t("h3",yl,o(p.value==="peakHours"?"Peak Hours Analysis":"Item Popularity Trends"),1),t("button",{onClick:e[19]||(e[19]=i=>p.value=null),class:"btn-fullscreen-close"}," âœ• ")]),t("div",gl,[p.value==="peakHours"?(s(),ot(ft,{key:0,title:"",data:j.value},null,8,["data"])):M("",!0),p.value==="trend"?(s(),ot(kt,{key:1,title:"",data:N.value},null,8,["data"])):M("",!0)])])])):M("",!0)]))}},_l=J(ml,[["__scopeId","data-v-002bbb4b"]]);export{_l as default};
