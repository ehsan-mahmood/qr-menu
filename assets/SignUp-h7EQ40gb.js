import{_ as y,u as T,r as v,j as k,c as d,d as e,e as c,f as P,T as S,t as V,w as U,g as n,k as i,v as u,h as x,b as M,i as p}from"./index-Dpv-nFGf.js";const _={class:"signup-page"},q={class:"signup-container"},A={class:"signup-card"},C={key:0,class:"test-banner"},N={key:1,class:"error-banner"},D=["disabled"],E=["disabled"],F=["disabled"],B=["disabled"],I=["disabled"],L={class:"terms-group"},O=["disabled"],j=["disabled"],R={key:0},G={key:1},J={__name:"SignUp",setup(Q){const m=M(),b=T(),a=v({name:"",email:"",phone:"",password:"",confirmPassword:"",agreeToTerms:!1}),o=v(!1),r=v(""),g=S,f=k(()=>{const t={hasName:!!a.value.name,hasEmail:!!a.value.email,hasPassword:!!a.value.password,passwordLength:a.value.password.length>=8,passwordsMatch:a.value.password===a.value.confirmPassword,termsAgreed:a.value.agreeToTerms===!0},s=Object.values(t).every(l=>l===!0);return console.log("Form validation checks:",t,"isValid:",s),s}),w=async()=>{if(console.log("handleSignUp called"),console.log("Form data:",a.value),r.value="",a.value.password!==a.value.confirmPassword){r.value="Passwords do not match";return}o.value=!0;try{await b.signUp({name:a.value.name,email:a.value.email,phone:a.value.phone,password:a.value.password}),m.push("/onboarding")}catch(t){console.error("Sign up error:",t),r.value=t.message||"Sign up failed. Please try again."}finally{o.value=!1}},h=()=>{m.push("/login")};return(t,s)=>(p(),d("div",_,[e("div",q,[s[16]||(s[16]=e("div",{class:"signup-header"},[e("h1",{class:"signup-title"},"QR Menu"),e("p",{class:"signup-subtitle"},"Create Your Merchant Account")],-1)),e("div",A,[s[14]||(s[14]=e("h2",{class:"card-title"},"Get Started",-1)),P(g)?(p(),d("div",C,[...s[6]||(s[6]=[e("p",null," Test Mode: Sign up will proceed to onboarding ",-1)])])):c("",!0),r.value?(p(),d("div",N,[e("p",null,V(r.value),1)])):c("",!0),e("form",{onSubmit:U(w,["prevent"]),class:"signup-form"},[e("div",null,[s[7]||(s[7]=e("label",{for:"name",class:"input-label"},[i(" Full Name "),e("span",{class:"required"},"*")],-1)),n(e("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=l=>a.value.name=l),type:"text",required:"",class:"input-field",placeholder:"John Doe",disabled:o.value},null,8,D),[[u,a.value.name]])]),e("div",null,[s[8]||(s[8]=e("label",{for:"email",class:"input-label"},[i(" Email "),e("span",{class:"required"},"*")],-1)),n(e("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=l=>a.value.email=l),type:"email",required:"",class:"input-field",placeholder:"your@email.com",disabled:o.value},null,8,E),[[u,a.value.email]])]),e("div",null,[s[9]||(s[9]=e("label",{for:"phone",class:"input-label"}," Phone Number (Optional) ",-1)),n(e("input",{id:"phone","onUpdate:modelValue":s[2]||(s[2]=l=>a.value.phone=l),type:"tel",class:"input-field",placeholder:"+1 (555) 123-4567",disabled:o.value},null,8,F),[[u,a.value.phone]])]),e("div",null,[s[10]||(s[10]=e("label",{for:"password",class:"input-label"},[i(" Password "),e("span",{class:"required"},"*")],-1)),n(e("input",{id:"password","onUpdate:modelValue":s[3]||(s[3]=l=>a.value.password=l),type:"password",required:"",minlength:"8",class:"input-field",placeholder:"••••••••",disabled:o.value},null,8,B),[[u,a.value.password]]),s[11]||(s[11]=e("p",{class:"input-hint"},"At least 8 characters",-1))]),e("div",null,[s[12]||(s[12]=e("label",{for:"confirmPassword",class:"input-label"},[i(" Confirm Password "),e("span",{class:"required"},"*")],-1)),n(e("input",{id:"confirmPassword","onUpdate:modelValue":s[4]||(s[4]=l=>a.value.confirmPassword=l),type:"password",required:"",class:"input-field",placeholder:"••••••••",disabled:o.value},null,8,I),[[u,a.value.confirmPassword]])]),e("div",L,[n(e("input",{id:"terms","onUpdate:modelValue":s[5]||(s[5]=l=>a.value.agreeToTerms=l),type:"checkbox",required:"",class:"checkbox-input",disabled:o.value},null,8,O),[[x,a.value.agreeToTerms]]),s[13]||(s[13]=e("label",{for:"terms",class:"terms-label"},[i(" I agree to the "),e("button",{type:"button",class:"link-button"},"Terms of Service"),i(" and "),e("button",{type:"button",class:"link-button"},"Privacy Policy")],-1))]),e("button",{type:"submit",class:"btn-primary btn-full",disabled:!f.value||o.value},[o.value?(p(),d("span",R,"Creating Account...")):(p(),d("span",G,"Create Account"))],8,j)],32),s[15]||(s[15]=e("div",{class:"divider"},[e("div",{class:"divider-line"}),e("div",{class:"divider-text"},[e("span",null,"Already have an account?")])],-1)),e("button",{onClick:h,class:"btn-secondary btn-full"}," Log In ")])])]))}},z=y(J,[["__scopeId","data-v-0244012c"]]);export{z as default};
