import{_ as k,u as T,r as p,k as P,c as r,d as s,e as v,f as S,g as f,T as V,t as b,w as U,h as d,l as n,v as c,i as C,n as M,b as _,j as i}from"./index-DFIQAtI0.js";const A={class:"min-h-screen bg-cream flex items-center justify-center px-4 py-8"},N={class:"max-w-md w-full"},F={class:"card"},q={key:0,class:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3"},D={key:1,class:"mb-4 bg-red-50 border border-red-200 rounded-lg p-3"},E={class:"text-red-700 text-sm"},j={key:0,class:"text-xs text-gray-500 p-2 bg-gray-100 rounded"},B=["disabled"],L=["disabled"],I=["disabled"],O=["disabled"],R=["disabled"],z={class:"flex items-start"},G=["disabled"],J=["disabled"],Q={key:0},Y={key:1},H={__name:"SignUp",setup(K){const g=_(),y=T(),a=p({name:"",email:"",phone:"",password:"",confirmPassword:"",agreeToTerms:!1}),t=p(!1),u=p(""),x=V,m=P(()=>{const o={hasName:!!a.value.name,hasEmail:!!a.value.email,hasPassword:!!a.value.password,passwordLength:a.value.password.length>=8,passwordsMatch:a.value.password===a.value.confirmPassword,termsAgreed:a.value.agreeToTerms===!0},e=Object.values(o).every(l=>l===!0);return console.log("Form validation checks:",o,"isValid:",e),e}),w=async()=>{if(console.log("handleSignUp called"),console.log("Form data:",a.value),u.value="",a.value.password!==a.value.confirmPassword){u.value="Passwords do not match";return}t.value=!0;try{await y.signUp({name:a.value.name,email:a.value.email,phone:a.value.phone,password:a.value.password}),g.push("/onboarding")}catch(o){console.error("Sign up error:",o),u.value=o.message||"Sign up failed. Please try again."}finally{t.value=!1}},h=()=>{g.push("/login")};return(o,e)=>(i(),r("div",A,[s("div",N,[e[18]||(e[18]=s("div",{class:"text-center mb-8"},[s("h1",{class:"text-4xl font-bold text-charcoal mb-2"},"QR Menu"),s("p",{class:"text-gray"},"Create Your Merchant Account")],-1)),s("div",F,[e[16]||(e[16]=s("h2",{class:"text-2xl font-bold text-charcoal mb-6"},"Get Started",-1)),f(x)?(i(),r("div",q,[...e[8]||(e[8]=[s("p",{class:"text-yellow-800 text-sm text-center"}," ðŸ§ª Test Mode: Sign up will proceed to onboarding ",-1)])])):v("",!0),u.value?(i(),r("div",D,[s("p",E,b(u.value),1)])):v("",!0),s("form",{onSubmit:U(w,["prevent"]),class:"space-y-4"},[f(x)?(i(),r("div",j," Form Valid: "+b(m.value)+" | Loading: "+b(t.value),1)):v("",!0),s("div",null,[e[9]||(e[9]=s("label",{for:"name",class:"block text-sm font-medium text-charcoal mb-1"},[n(" Full Name "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=l=>a.value.name=l),type:"text",required:"",class:"input",placeholder:"John Doe",disabled:t.value},null,8,B),[[c,a.value.name]])]),s("div",null,[e[10]||(e[10]=s("label",{for:"email",class:"block text-sm font-medium text-charcoal mb-1"},[n(" Email "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=l=>a.value.email=l),type:"email",required:"",class:"input",placeholder:"your@email.com",disabled:t.value},null,8,L),[[c,a.value.email]])]),s("div",null,[e[11]||(e[11]=s("label",{for:"phone",class:"block text-sm font-medium text-charcoal mb-1"}," Phone Number (Optional) ",-1)),d(s("input",{id:"phone","onUpdate:modelValue":e[2]||(e[2]=l=>a.value.phone=l),type:"tel",class:"input",placeholder:"+1 (555) 123-4567",disabled:t.value},null,8,I),[[c,a.value.phone]])]),s("div",null,[e[12]||(e[12]=s("label",{for:"password",class:"block text-sm font-medium text-charcoal mb-1"},[n(" Password "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=l=>a.value.password=l),type:"password",required:"",minlength:"8",class:"input",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",disabled:t.value},null,8,O),[[c,a.value.password]]),e[13]||(e[13]=s("p",{class:"text-xs text-gray mt-1"},"At least 8 characters",-1))]),s("div",null,[e[14]||(e[14]=s("label",{for:"confirmPassword",class:"block text-sm font-medium text-charcoal mb-1"},[n(" Confirm Password "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"confirmPassword","onUpdate:modelValue":e[4]||(e[4]=l=>a.value.confirmPassword=l),type:"password",required:"",class:"input",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢",disabled:t.value},null,8,R),[[c,a.value.confirmPassword]])]),s("div",z,[d(s("input",{id:"terms","onUpdate:modelValue":e[5]||(e[5]=l=>a.value.agreeToTerms=l),type:"checkbox",required:"",class:"mt-1 rounded border-warm-gray text-primary focus:ring-primary",disabled:t.value,onChange:e[6]||(e[6]=()=>console.log("Terms checkbox changed:",a.value.agreeToTerms))},null,40,G),[[C,a.value.agreeToTerms]]),e[15]||(e[15]=s("label",{for:"terms",class:"ml-2 text-sm text-gray"},[n(" I agree to the "),s("button",{type:"button",class:"text-primary hover:underline"},"Terms of Service"),n(" and "),s("button",{type:"button",class:"text-primary hover:underline"},"Privacy Policy")],-1))]),s("button",{type:"submit",class:M(["w-full btn btn-primary",{"opacity-50 cursor-not-allowed":!m.value||t.value}]),disabled:!m.value||t.value,onClick:e[7]||(e[7]=l=>{console.log("Button clicked!",{isFormValid:m.value,loading:t.value,disabled:!m.value||t.value})})},[t.value?(i(),r("span",Q,"Creating Account...")):(i(),r("span",Y,"Create Account"))],10,J)],32),e[17]||(e[17]=S('<div class="relative my-6" data-v-3c0bd13c><div class="absolute inset-0 flex items-center" data-v-3c0bd13c><div class="w-full border-t border-warm-gray" data-v-3c0bd13c></div></div><div class="relative flex justify-center text-sm" data-v-3c0bd13c><span class="px-2 bg-white text-gray" data-v-3c0bd13c>Already have an account?</span></div></div>',1)),s("button",{onClick:h,class:"w-full btn btn-secondary"}," Log In ")])])]))}},X=k(H,[["__scopeId","data-v-3c0bd13c"]]);export{X as default};
