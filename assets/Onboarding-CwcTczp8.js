import{u as ye,r as d,k as Y,c as l,d as t,e as u,F as V,m as T,t as m,h as w,l as be,v as P,p as xe,f as fe,n as _,w as $,q as he,T as ke,b as Ce,j as o}from"./index-WVObp_XA.js";import{m as _e}from"./menuService-9_-7xI5Y.js";import{o as we,p as Se,a as Me}from"./csvParser-D1VKDUg_.js";import"./_commonjsHelpers-Cpj98o6Y.js";const Ie={class:"min-h-screen bg-cream"},Fe={class:"bg-white border-b border-warm-gray sticky top-0 z-20"},Ue={class:"container mx-auto px-4 py-4"},Pe={class:"flex items-center justify-between mb-3"},Re={class:"flex gap-2"},Oe={class:"text-xs text-gray mt-2"},Ve={class:"container mx-auto px-4 py-8 max-w-2xl"},Te={key:0,class:"card"},$e={class:"space-y-4"},Ne=["disabled"],De={key:1,class:"card"},Ee={class:"space-y-3"},Le={class:"flex items-start gap-4"},Be={key:0,class:"text-primary text-xl"},je={class:"flex items-start gap-4"},ze={key:0,class:"text-primary text-xl"},Ae={class:"flex items-start gap-4"},Ye={key:0,class:"text-primary text-xl"},We={key:0,class:"mt-6"},qe={key:0,class:"space-y-4"},Ge={class:"grid grid-cols-3 gap-2 mb-4"},He={key:0,class:"space-y-4"},Je={key:0,class:"space-y-2"},Ke={class:"font-medium text-charcoal"},Qe={class:"w-full bg-warm-gray rounded-full h-2"},Xe={key:1,class:"text-4xl mb-3"},Ze={key:2,class:"text-4xl mb-3"},et={class:"font-medium text-charcoal"},tt=["disabled"],at={key:0},st={key:1},lt={key:1,class:"space-y-4"},ot={key:0,class:"border-2 border-dashed border-warm-gray rounded-lg p-8 text-center"},rt={key:1,class:"grid grid-cols-2 md:grid-cols-3 gap-3"},nt=["onClick"],it=["src"],ut={class:"text-xs font-medium text-charcoal truncate"},dt={class:"text-xs text-gray"},ct={key:2,class:"space-y-4"},vt={key:0,class:"text-4xl mb-3"},mt={key:1,class:"text-4xl mb-3"},pt={class:"font-medium text-charcoal"},gt={key:3,class:"card mt-4"},yt={class:"flex justify-between items-center mb-3"},bt={key:0,class:"text-sm text-gray-600"},xt={key:0,class:"mt-4 border-t pt-4"},ft={class:"text-sm text-gray-600 mb-3"},ht={class:"space-y-4 max-h-96 overflow-y-auto"},kt={class:"font-semibold text-charcoal mb-2"},Ct={class:"space-y-2"},_t={class:"flex justify-between items-start"},wt={class:"flex-1"},St={class:"font-medium text-charcoal"},Mt={key:0,class:"text-xs text-gray-600 mt-1"},It={class:"font-semibold text-primary ml-2"},Ft={key:4,class:"bg-red-50 border border-red-200 rounded-lg p-3 mt-2"},Ut={class:"text-sm text-red-700"},Pt={key:5,class:"bg-green-50 border border-green-200 rounded-lg p-3 mt-2"},Rt={class:"text-sm text-green-700"},Ot={key:1,class:"text-center py-4"},Vt=["disabled"],Tt={key:2,class:"card"},$t={key:0,class:"text-center py-8"},Nt={key:1,class:"space-y-4 mb-6"},Dt={class:"flex gap-4"},Et={class:"flex-shrink-0"},Lt=["onClick"],Bt=["onChange"],jt=["src"],zt={key:1,class:"text-2xl"},At={class:"flex-1 space-y-2"},Yt=["onUpdate:modelValue"],Wt=["onUpdate:modelValue"],qt=["onUpdate:modelValue"],Gt=["onClick"],Ht=["disabled"],Jt={key:0},Kt={key:1},W=3,sa={__name:"Onboarding",setup(Qt){const K=Ce(),D=ye(),b=d(1),N=d(!1),i=d({restaurantName:"",businessType:"cafe",address:"",uploadMethod:null,menuFile:null}),p=d([]),E=d(null),L=d(null),B=d([]),S=d(!1),M=d(0),c=d(""),g=d(""),f=d("live"),h=d(null),k=d(null),C=d(null),y=d(""),x=d(""),v=d([]),I=d(null),F=d([]),j=Y(()=>v.value.reduce((s,e)=>s+e.items.length,0)),Q=Y(()=>i.value.uploadMethod?i.value.uploadMethod==="manual"?!0:i.value.uploadMethod==="ocr"?p.value.length>0||v.value.length>0:i.value.menuFile!==null||p.value.length>0:!1),X=Y(()=>p.value.length>0&&p.value.every(s=>s.name&&s.price)),q=()=>{b.value<W&&(b.value++,b.value===3&&p.value.length===0&&(i.value.uploadMethod==="manual"?A():de()))},Z=()=>{b.value>1&&b.value--},z=s=>{i.value.uploadMethod=s,i.value.menuFile=null},G=s=>{s==="ocr"&&E.value?E.value.click():s==="csv"&&L.value&&L.value.click()},ee=async s=>{const e=s.target.files[0];if(e){if(e.size>10*1024*1024){c.value="File size must be less than 10MB";return}h.value=e,i.value.menuFile=e,c.value="",g.value="",y.value="",v.value=[]}},te=async s=>{if(s){S.value=!0,M.value=0,c.value="",g.value="";try{console.log("üîç Starting OCR processing...",{fileName:s.name,TEST_MODE:ke});const e=await we.parseMenuImage(s,n=>{console.log("OCR progress:",n+"%"),M.value=n});console.log("‚úÖ OCR completed:",e),y.value=e.data.parsedText||"",x.value=y.value,I.value=e.data.confidence||null,v.value=e.data.sections||[];const a={id:Date.now().toString(),name:s.name,date:new Date().toISOString(),preview:URL.createObjectURL(s),parsedText:y.value,sections:v.value,confidence:I.value};F.value.unshift(a),F.value.length>10&&(F.value=F.value.slice(0,10)),y.value.trim()?v.value.length===0?g.value="Text extracted! Could not auto-parse menu structure. You can edit the text below.":(g.value=`Successfully parsed ${v.value.length} section(s) with ${j.value} item(s)!`,setTimeout(()=>{g.value=""},3e3)):c.value="No text found in image. Please try a clearer image with visible text."}catch(e){console.error("‚ùå OCR processing failed:",e),c.value=e.message||"Failed to process image. Please try again with a clearer image."}finally{S.value=!1,M.value=100}}},ae=async s=>{const e=s.target.files[0];if(e){if(!e.name.endsWith(".csv")){c.value="Please select a CSV file";return}k.value=e,i.value.menuFile=e,c.value="",g.value="",y.value="",v.value=[]}},se=async s=>{if(s){c.value="",g.value="";try{const e=await s.text(),a=Se(e);v.value=a,y.value=a.map(n=>`${n.name}
${n.items.map(r=>`  ${r.name}${r.description?" - "+r.description:""} $${r.price.toFixed(2)}`).join(`
`)}`).join(`

`),x.value=y.value,a.length===0?c.value="No valid menu items found in CSV. Please check the format.":(g.value=`Successfully parsed ${a.length} section(s) with ${j.value} item(s)!`,setTimeout(()=>{g.value=""},3e3))}catch(e){console.error("CSV parsing failed:",e),c.value=e.message||"Failed to parse CSV file. Please check the format."}}},le=s=>{C.value=s},oe=()=>{C.value&&(y.value=C.value.parsedText||"",x.value=y.value,v.value=C.value.sections||[],I.value=C.value.confidence||null,g.value="Loaded saved menu image!",setTimeout(()=>{g.value=""},3e3))},re=()=>{if(!x.value.trim()&&v.value.length===0){c.value="Menu text is empty";return}x.value.trim()&&x.value!==y.value&&(v.value=Me(x.value),y.value=x.value);const s=[];v.value.forEach(e=>{e.items.forEach(a=>{const n=parseFloat(a.price)||0;n>0&&a.name&&a.name.trim().length>2&&s.push({name:a.name.trim(),price:n.toString(),category:e.name||"Menu Items",description:(a.description||"").trim(),image:null,imagePreview:null})})}),s.length>0?(p.value=s,g.value=`‚úÖ Confirmed! ${s.length} menu item(s) ready for step 3.`,setTimeout(()=>{g.value=""},3e3)):c.value="No valid menu items found. Please edit the text and try again."},ne=()=>{y.value="",x.value="",v.value=[],I.value=null,h.value=null,k.value=null,C.value=null,c.value="",g.value=""},ie=s=>new Date(s).toLocaleDateString(),ue=()=>{const s=`name,price,description,category
Espresso,3.50,Rich and bold coffee,Coffee
Cappuccino,4.50,Espresso with steamed milk,Coffee
Croissant,3.00,Buttery French pastry,Pastry`,e=new Blob([s],{type:"text/csv"}),a=URL.createObjectURL(e),n=document.createElement("a");n.href=a,n.download="menu_template.csv",n.click(),URL.revokeObjectURL(a)},H=s=>{const e=s.dataTransfer.files[0];if(e){if(f.value==="csv"){if(!e.name.endsWith(".csv")){c.value="Please drop a CSV file";return}k.value=e}else{if(e.size>10*1024*1024){c.value="File size must be less than 10MB";return}h.value=e}i.value.menuFile=e,c.value=""}},de=()=>{p.value.length===0?(console.log("‚ö†Ô∏è No items extracted, using simulated data"),p.value=[{name:"Espresso",price:"3.50",category:"Coffee",image:null,imagePreview:null},{name:"Cappuccino",price:"4.50",category:"Coffee",image:null,imagePreview:null},{name:"Croissant",price:"3.00",category:"Pastry",image:null,imagePreview:null}]):console.log("‚úÖ Using extracted items:",p.value.length)},A=()=>{p.value.push({name:"",price:"",category:"",image:null,imagePreview:null})},ce=s=>{p.value.splice(s,1)},ve=s=>{B.value[s]&&B.value[s].click()},me=(s,e)=>{const a=e.target.files[0];if(a){p.value[s].image=a;const n=new FileReader;n.onload=r=>{p.value[s].imagePreview=r.target.result},n.readAsDataURL(a)}},J=async()=>{var s,e,a;N.value=!0;try{const n=D.merchantId||((s=D.user)==null?void 0:s.merchantId);if(!n)throw new Error("Merchant ID not found. Please log in again.");const r=new Map;p.value.forEach(R=>{const O=R.category||"Other";r.has(O)||r.set(O,[]),r.get(O).push({name:R.name,description:null,price:parseFloat(R.price)||0,is_available:!0})});const U=Array.from(r.entries()).map(([R,O])=>({name:R,items:O}));U.length===0&&U.push({name:"Menu Items",items:[]});const ge=i.value.restaurantName||"Main Menu",Xt=await _e.createOrUpdateMenu({merchantId:n,menuName:ge,orderEnabled:!0,sections:U});D.updateUserProfile({restaurantName:i.value.restaurantName,businessType:i.value.businessType,onboardingCompleted:!0}),K.push("/dashboard")}catch(n){console.error("Failed to complete onboarding:",n);const r=((a=(e=n.response)==null?void 0:e.data)==null?void 0:a.error)||n.message||"Failed to complete setup. Please try again.";alert(r)}finally{N.value=!1}},pe=()=>{J()};return(s,e)=>(o(),l("div",Ie,[t("div",Fe,[t("div",Ue,[t("div",Pe,[e[16]||(e[16]=t("h1",{class:"text-lg font-bold text-charcoal"},"Setup Your Menu",-1)),b.value>1?(o(),l("button",{key:0,onClick:Z,class:"text-sm text-gray hover:text-charcoal"}," ‚Üê Back ")):u("",!0)]),t("div",Re,[(o(),l(V,null,T(W,a=>t("div",{key:a,class:_(["flex-1 h-2 rounded-full transition-all",a<=b.value?"bg-primary":"bg-warm-gray"])},null,2)),64))]),t("p",Oe,"Step "+m(b.value)+" of "+m(W),1)])]),t("div",Ve,[b.value===1?(o(),l("div",Te,[e[21]||(e[21]=t("div",{class:"text-center mb-6"},[t("div",{class:"text-5xl mb-4"},"üè™"),t("h2",{class:"text-2xl font-bold text-charcoal mb-2"},"Welcome!"),t("p",{class:"text-gray"},"Let's start with your business details")],-1)),t("div",$e,[t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-charcoal mb-1"},[be(" Restaurant/Company Name "),t("span",{class:"text-red-500"},"*")],-1)),w(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>i.value.restaurantName=a),type:"text",required:"",class:"input",placeholder:"e.g., The Coffee House"},null,512),[[P,i.value.restaurantName]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-charcoal mb-1"}," Business Type ",-1)),w(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>i.value.businessType=a),class:"input"},[...e[18]||(e[18]=[fe('<option value="cafe">Caf√©</option><option value="restaurant">Restaurant</option><option value="bar">Bar</option><option value="food-truck">Food Truck</option><option value="bakery">Bakery</option><option value="other">Other</option>',6)])],512),[[xe,i.value.businessType]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-charcoal mb-1"}," Address (Optional) ",-1)),w(t("textarea",{"onUpdate:modelValue":e[2]||(e[2]=a=>i.value.address=a),rows:"2",class:"input resize-none",placeholder:"123 Main St, City, State"},null,512),[[P,i.value.address]])]),t("button",{onClick:q,class:"w-full btn btn-primary",disabled:!i.value.restaurantName}," Continue ",8,Ne)])])):u("",!0),b.value===2?(o(),l("div",De,[e[38]||(e[38]=t("div",{class:"text-center mb-6"},[t("div",{class:"text-5xl mb-4"},"üìã"),t("h2",{class:"text-2xl font-bold text-charcoal mb-2"},"Upload Your Menu"),t("p",{class:"text-gray"},"Choose how you'd like to add your menu items")],-1)),t("div",Ee,[t("button",{onClick:e[3]||(e[3]=a=>z("ocr")),class:_(["w-full p-4 border-2 rounded-lg transition-all text-left",i.value.uploadMethod==="ocr"?"border-primary bg-primary/5":"border-warm-gray hover:border-primary/50"])},[t("div",Le,[e[22]||(e[22]=t("div",{class:"text-3xl"},"üì∏",-1)),e[23]||(e[23]=t("div",{class:"flex-1"},[t("h3",{class:"font-bold text-charcoal mb-1"},"Photo/OCR Upload"),t("p",{class:"text-sm text-gray"},"Take a photo of your existing menu - we'll extract the items automatically")],-1)),i.value.uploadMethod==="ocr"?(o(),l("div",Be,"‚úì")):u("",!0)])],2),t("button",{onClick:e[4]||(e[4]=a=>z("csv")),class:_(["w-full p-4 border-2 rounded-lg transition-all text-left",i.value.uploadMethod==="csv"?"border-primary bg-primary/5":"border-warm-gray hover:border-primary/50"])},[t("div",je,[e[24]||(e[24]=t("div",{class:"text-3xl"},"üìä",-1)),e[25]||(e[25]=t("div",{class:"flex-1"},[t("h3",{class:"font-bold text-charcoal mb-1"},"CSV Upload"),t("p",{class:"text-sm text-gray"},"Upload a spreadsheet with your menu items")],-1)),i.value.uploadMethod==="csv"?(o(),l("div",ze,"‚úì")):u("",!0)])],2),t("button",{onClick:e[5]||(e[5]=a=>z("manual")),class:_(["w-full p-4 border-2 rounded-lg transition-all text-left",i.value.uploadMethod==="manual"?"border-primary bg-primary/5":"border-warm-gray hover:border-primary/50"])},[t("div",Ae,[e[26]||(e[26]=t("div",{class:"text-3xl"},"‚úçÔ∏è",-1)),e[27]||(e[27]=t("div",{class:"flex-1"},[t("h3",{class:"font-bold text-charcoal mb-1"},"Manual Entry"),t("p",{class:"text-sm text-gray"},"Add items one by one manually")],-1)),i.value.uploadMethod==="manual"?(o(),l("div",Ye,"‚úì")):u("",!0)])],2)]),i.value.uploadMethod?(o(),l("div",We,[i.value.uploadMethod==="ocr"?(o(),l("div",qe,[t("div",Ge,[t("button",{onClick:e[6]||(e[6]=a=>f.value="live"),class:_(["p-3 border-2 rounded-lg transition-all text-left text-sm",f.value==="live"?"border-primary bg-primary/5":"border-warm-gray hover:border-primary/50"])},[...e[28]||(e[28]=[t("div",{class:"text-xl mb-1"},"üì∑",-1),t("h4",{class:"font-semibold text-charcoal"},"Live OCR",-1),t("p",{class:"text-xs text-gray"},"Upload photo",-1)])],2),t("button",{onClick:e[7]||(e[7]=a=>f.value="saved"),class:_(["p-3 border-2 rounded-lg transition-all text-left text-sm",f.value==="saved"?"border-primary bg-primary/5":"border-warm-gray hover:border-primary/50"])},[...e[29]||(e[29]=[t("div",{class:"text-xl mb-1"},"üñºÔ∏è",-1),t("h4",{class:"font-semibold text-charcoal"},"Saved Image",-1),t("p",{class:"text-xs text-gray"},"Use verified",-1)])],2),t("button",{onClick:e[8]||(e[8]=a=>f.value="csv"),class:_(["p-3 border-2 rounded-lg transition-all text-left text-sm",f.value==="csv"?"border-primary bg-primary/5":"border-warm-gray hover:border-primary/50"])},[...e[30]||(e[30]=[t("div",{class:"text-xl mb-1"},"üìä",-1),t("h4",{class:"font-semibold text-charcoal"},"CSV Upload",-1),t("p",{class:"text-xs text-gray"},"Import file",-1)])],2)]),f.value==="live"?(o(),l("div",He,[t("div",{class:"border-2 border-dashed border-warm-gray rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",onClick:e[9]||(e[9]=a=>G("ocr")),onDragover:e[10]||(e[10]=$(()=>{},["prevent"])),onDrop:$(H,["prevent"])},[t("input",{ref_key:"ocrFileInput",ref:E,type:"file",accept:"image/*",class:"hidden",onChange:ee},null,544),S.value?(o(),l("div",Je,[e[31]||(e[31]=t("div",{class:"text-4xl mb-3"},"‚è≥",-1)),t("p",Ke,"Processing OCR... "+m(M.value)+"%",1),t("div",Qe,[t("div",{class:"bg-primary h-2 rounded-full transition-all",style:he({width:M.value+"%"})},null,4)])])):h.value?(o(),l("div",Ze,"‚úÖ")):(o(),l("div",Xe,"üì∑")),t("p",et,m(S.value?"Processing...":h.value?h.value.name:"Click or drag to upload menu photo"),1),e[32]||(e[32]=t("p",{class:"text-sm text-gray mt-1"},"JPG, PNG up to 10MB",-1))],32),h.value&&!y.value?(o(),l("button",{key:0,onClick:e[11]||(e[11]=a=>te(h.value)),disabled:S.value,class:"w-full btn btn-primary disabled:opacity-50"},[S.value?(o(),l("span",at,"Processing... "+m(M.value)+"%",1)):(o(),l("span",st,"Parse Menu"))],8,tt)):u("",!0)])):u("",!0),f.value==="saved"?(o(),l("div",lt,[F.value.length===0?(o(),l("div",ot,[...e[33]||(e[33]=[t("div",{class:"text-4xl mb-2"},"üìö",-1),t("p",{class:"text-gray-600 mb-2"},"No saved menu images yet",-1),t("p",{class:"text-sm text-gray-500"},"Upload images using Live OCR to build your library",-1)])])):(o(),l("div",rt,[(o(!0),l(V,null,T(F.value,(a,n)=>{var r;return o(),l("div",{key:n,onClick:U=>le(a),class:_(["border-2 rounded-lg p-3 cursor-pointer transition-all",((r=C.value)==null?void 0:r.id)===a.id?"border-primary bg-primary/5":"border-warm-gray hover:border-primary/50"])},[t("img",{src:a.preview,alt:"Menu",class:"w-full h-32 object-cover rounded mb-2"},null,8,it),t("p",ut,m(a.name),1),t("p",dt,m(ie(a.date)),1)],10,nt)}),128))])),C.value?(o(),l("button",{key:2,onClick:oe,class:"w-full btn btn-primary"}," Load Selected Image ")):u("",!0)])):u("",!0),f.value==="csv"?(o(),l("div",ct,[t("div",{class:"border-2 border-dashed border-warm-gray rounded-lg p-8 text-center hover:border-primary transition-colors cursor-pointer",onClick:e[12]||(e[12]=a=>G("csv")),onDragover:e[13]||(e[13]=$(()=>{},["prevent"])),onDrop:$(H,["prevent"])},[t("input",{ref_key:"csvFileInput",ref:L,type:"file",accept:".csv",class:"hidden",onChange:ae},null,544),k.value?(o(),l("div",mt,"‚úÖ")):(o(),l("div",vt,"üìä")),t("p",pt,m(k.value?k.value.name:"Click or drag to upload CSV file"),1),e[34]||(e[34]=t("p",{class:"text-sm text-gray mt-1"},"CSV file with columns: name, price, description, category",-1))],32),t("a",{href:"#",onClick:$(ue,["prevent"]),class:"text-sm text-primary hover:underline block text-center"}," üì• Download CSV Template "),k.value&&!y.value?(o(),l("button",{key:0,onClick:e[14]||(e[14]=a=>se(k.value)),class:"w-full btn btn-primary"}," Parse CSV ")):u("",!0)])):u("",!0),y.value?(o(),l("div",gt,[t("div",yt,[e[35]||(e[35]=t("h3",{class:"font-bold text-charcoal"},"Extracted Text",-1)),I.value?(o(),l("span",bt," Confidence: "+m((I.value*100).toFixed(0))+"% ",1)):u("",!0)]),w(t("textarea",{"onUpdate:modelValue":e[15]||(e[15]=a=>x.value=a),rows:"8",class:"input font-mono text-sm resize-none mb-4",placeholder:"Raw extracted text..."},null,512),[[P,x.value]]),v.value&&v.value.length>0?(o(),l("div",xt,[e[36]||(e[36]=t("h4",{class:"font-bold text-charcoal mb-3"},"üìã Parsed Menu Structure",-1)),t("p",ft," Found "+m(v.value.length)+" section(s) with "+m(j.value)+" item(s) ",1),t("div",ht,[(o(!0),l(V,null,T(v.value,(a,n)=>(o(),l("div",{key:n,class:"bg-gray-50 rounded-lg p-3"},[t("h5",kt,m(a.name),1),t("div",Ct,[(o(!0),l(V,null,T(a.items,(r,U)=>(o(),l("div",{key:U,class:"text-sm bg-white p-2 rounded border border-gray-200"},[t("div",_t,[t("div",wt,[t("p",St,m(r.name),1),r.description?(o(),l("p",Mt,m(r.description),1)):u("",!0)]),t("span",It,"$"+m(r.price.toFixed(2)),1)])]))),128))])]))),128))])])):u("",!0),t("div",{class:"mt-4 flex gap-2"},[t("button",{onClick:re,class:"flex-1 btn btn-primary"}," Confirm & Continue "),t("button",{onClick:ne,class:"flex-1 btn btn-secondary"}," Clear ")])])):u("",!0),c.value?(o(),l("div",Ft,[t("p",Ut,m(c.value),1)])):u("",!0),g.value?(o(),l("div",Pt,[t("p",Rt,m(g.value),1)])):u("",!0)])):u("",!0),i.value.uploadMethod==="manual"?(o(),l("div",Ot,[...e[37]||(e[37]=[t("p",{class:"text-gray mb-4"},"You'll add menu items manually in the next step",-1)])])):u("",!0)])):u("",!0),t("button",{onClick:q,class:"w-full btn btn-primary mt-6",disabled:!Q.value}," Continue ",8,Vt)])):u("",!0),b.value===3?(o(),l("div",Tt,[e[40]||(e[40]=t("div",{class:"text-center mb-6"},[t("div",{class:"text-5xl mb-4"},"üñºÔ∏è"),t("h2",{class:"text-2xl font-bold text-charcoal mb-2"},"Add Item Images"),t("p",{class:"text-gray"},"Make your menu more appealing with photos")],-1)),p.value.length===0?(o(),l("div",$t,[e[39]||(e[39]=t("p",{class:"text-gray mb-4"},"No menu items yet. Let's add some!",-1)),t("button",{onClick:A,class:"btn btn-primary"}," Add Your First Item ")])):(o(),l("div",Nt,[(o(!0),l(V,null,T(p.value,(a,n)=>(o(),l("div",{key:n,class:"border border-warm-gray rounded-lg p-4"},[t("div",Dt,[t("div",Et,[t("div",{class:"w-24 h-24 rounded-lg border-2 border-dashed border-warm-gray flex items-center justify-center cursor-pointer hover:border-primary transition-colors overflow-hidden",onClick:r=>ve(n)},[t("input",{ref_for:!0,ref:r=>B.value[n]=r,type:"file",accept:"image/*",class:"hidden",onChange:r=>me(n,r)},null,40,Bt),a.image?(o(),l("img",{key:0,src:a.imagePreview,alt:"Item preview",class:"w-full h-full object-cover"},null,8,jt)):(o(),l("span",zt,"üì∑"))],8,Lt)]),t("div",At,[w(t("input",{"onUpdate:modelValue":r=>a.name=r,type:"text",placeholder:"Item name",class:"input text-sm"},null,8,Yt),[[P,a.name]]),w(t("input",{"onUpdate:modelValue":r=>a.price=r,type:"number",step:"0.01",placeholder:"Price",class:"input text-sm"},null,8,Wt),[[P,a.price]]),w(t("input",{"onUpdate:modelValue":r=>a.category=r,type:"text",placeholder:"Category (e.g., Coffee, Food)",class:"input text-sm"},null,8,qt),[[P,a.category]])]),t("button",{onClick:r=>ce(n),class:"text-gray-400 hover:text-red-600 transition-colors"}," √ó ",8,Gt)])]))),128))])),t("button",{onClick:A,class:"w-full btn btn-secondary mb-4"}," + Add Another Item "),t("button",{onClick:J,class:"w-full btn btn-primary",disabled:!X.value||N.value},[N.value?(o(),l("span",Jt,"Setting up your menu...")):(o(),l("span",Kt,"Complete Setup"))],8,Ht),t("button",{onClick:pe,class:"w-full text-sm text-gray hover:text-charcoal mt-3"}," Skip for now - I'll add images later ")])):u("",!0)])]))}};export{sa as default};
